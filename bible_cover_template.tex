% === Flexible Paperback Cover Template (Front + Spine + Back) ===
% Compile with:    lualatex book_cover_template.tex   (or xelatex)
% Adjust the parameters in Section 1.
% Coordinates are in INCHES.
\documentclass{standalone}
\usepackage{tikz}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{ifthen}
\usepackage{fontspec}          % Requires LuaLaTeX/XeLaTeX
\usepackage{polyglossia}
\setdefaultlanguage{greek}     % Greek content support
\setotherlanguage{english}

% --- Fonts ---
% Choose a font that supports Greek. Common options include: "TeX Gyre Pagella", "DejaVu Serif", "Noto Serif".
% If compilation fails due to missing font, switch to another available font.
\setmainfont{Gentium}

% ===============================================================
% 1) PARAMETERS — edit these to change size, spine, bleed, text
% ===============================================================
% Trim size (without bleed):
\newdimen\FrontW   \FrontW=6in   % front cover width
\newdimen\BackW    \BackW=6in    % back cover width
\newdimen\TrimH    \TrimH=9in    % book height (trim)

% Spine:
\newdimen\SpineW   \SpineW=1.88in % on snowfallpress

% Bleed (Snowfall Press typical: 0.125in):
\newdimen\Bleed    \Bleed=0.125in

% Title text:
\newcommand{\CoverTitle}{Η ΑΓΙΑ ΓΡΑΦΗ}
\newcommand{\SubtitleEnglish}{The Holy Bible}
\newcommand{\SubtitleGreek}{The Septuagint and The New Testament}

% Colors:
\definecolor{CoverBackground}{RGB}{0,0,0}      % Black background
\definecolor{CoverText}{RGB}{255,255,255}       

% Title placement on FRONT (fraction down from top; 0=top, 1=bottom)
% 1/3 down from top => y = 1/3 of total height below top (i.e., 2/3 from bottom)
\newcommand{\FrontTitleDownFromTop}{0.333}  % change e.g. to 0.25 for closer to top

% Title font sizes (points):
\newcommand{\FrontTitleSize}{36pt}          % Reduced from 48pt
\newcommand{\FrontSubtitleSize}{18pt}       % For English subtitle
\newcommand{\FrontSubtitleSmallSize}{14pt}  % For Greek subtitle
\newcommand{\SpineTitleSize}{16pt}          % Horizontal text on spine
\newcommand{\SpineSubtitleSize}{10pt}       % Smaller subtitle on spine

% Optional: show guides (bleed/trim) — set to 1 to show, 0 to hide
\newcommand{\ShowGuides}{1}

% Background color (white by default)
% \pagecolor[rgb]{1,1,1}

% ===============================================================
% 2) DERIVED DIMENSIONS — do not edit (computed from above)
% ===============================================================
\newdimen\TotalW   \TotalW=\dimexpr \BackW+\SpineW+\FrontW+2\Bleed\relax
\newdimen\TotalH   \TotalH=\dimexpr \TrimH+2\Bleed\relax

% Panel starts (from left edge, including bleed)
\newdimen\BackX    \BackX=\Bleed
\newdimen\SpineX   \SpineX=\dimexpr \Bleed+\BackW\relax
\newdimen\FrontX   \FrontX=\dimexpr \Bleed+\BackW+\SpineW\relax

% Centers:
\newdimen\FrontCenterX \FrontCenterX=\dimexpr \FrontX + 0.5\FrontW\relax
\newdimen\SpineCenterX \SpineCenterX=\dimexpr \SpineX + 0.5\SpineW\relax
\newdimen\CenterY      \CenterY=\dimexpr 0.5\TotalH\relax

% Front title Y position: 1/3 down from top = (1 - 1/3) from bottom = 2/3 of height
\newdimen\FrontTitleY
% \FrontTitleDownFromTop is a decimal; convert to dimen via pgfmath
\usepackage{pgfmath}
\newcommand{\ComputeFrontTitleY}{%
  \pgfmathsetmacro{\frontTitleFactor}{1 - \FrontTitleDownFromTop}% fraction from bottom
  \pgfmathsetlength{\FrontTitleY}{\frontTitleFactor\TotalH}% convert to TeX dimen
}

% ===============================================================
% 3) PAGE SIZE OVERRIDE — set the actual PDF size from parameters
% ===============================================================
\makeatletter
\AtBeginDocument{%
  \setlength{\pdfpagewidth}{\TotalW}%
  \setlength{\pdfpageheight}{\TotalH}%
}
\makeatother

% ===============================================================
% 4) DRAW
% ===============================================================
\begin{document}
\thispagestyle{empty}
\ComputeFrontTitleY

\begin{tikzpicture}[x=1in,y=1in]
  % Background (full-bleed black rectangle) - extended beyond bounds to ensure no white edges
  \fill [CoverBackground] (-0.1in,-0.1in) rectangle (\TotalW+0.1in, \TotalH+0.1in);

  % --- Guides ---
  \ifthenelse{\equal{\ShowGuides}{1}}{%
    % Outer bleed box
    \draw [gray!60, line width=0.3pt] (0,0) rectangle (\TotalW,\TotalH);
    % Trim box
    \draw [gray!60, line width=0.3pt, dash pattern=on 2pt off 2pt]
      (\Bleed, \Bleed) rectangle (\TotalW-\Bleed, \TotalH-\Bleed);
    % Panel guides (back | spine | front)
    \draw [gray!60, line width=0.3pt] (\BackX,0) -- (\BackX,\TotalH);
    \draw [gray!60, line width=0.3pt] (\SpineX,0) -- (\SpineX,\TotalH);
    \draw [gray!60, line width=0.3pt] (\FrontX,0) -- (\FrontX,\TotalH);
    % Center lines (optional)
    % \draw [gray!30, line width=0.2pt] (0,\CenterY) -- (\TotalW,\CenterY);
  }{}

  % --- FRONT TITLE ---
  \node[align=center, text=CoverText] at (\FrontCenterX, \FrontTitleY)
    {\fontsize{\FrontTitleSize}{40pt}\selectfont \CoverTitle};
  
  % --- FRONT SUBTITLES ---
  % English subtitle
  \node[align=center, text=CoverText] at (\FrontCenterX, \FrontTitleY - 0.6in)
    {\textenglish{\fontsize{\FrontSubtitleSize}{22pt}\selectfont \SubtitleEnglish}};
  
  % Greek subtitle (smaller)
  \node[align=center, text=CoverText] at (\FrontCenterX, \FrontTitleY - 1.2in)
    {\fontsize{\FrontSubtitleSmallSize}{18pt}\selectfont \SubtitleGreek};
  
  % "in Greek" text below subtitle
  \node[align=center, text=CoverText] at (\FrontCenterX, \FrontTitleY - 1.5in)
    {\fontsize{\FrontSubtitleSmallSize}{18pt}\selectfont in Greek};

  % --- SPINE TITLE (HORIZONTAL) ---
  % Position slightly higher to align with front title (compensating for font size difference)
  \newdimen\SpineTitleY
  \SpineTitleY=\dimexpr\FrontTitleY + 0.07in\relax
  \node[align=center, text=CoverText] at (\SpineCenterX, \SpineTitleY)
    {\fontsize{\SpineTitleSize}{20pt}\selectfont \CoverTitle};
  
  % --- SPINE SUBTITLES (HORIZONTAL) ---
  \node[align=center, text=CoverText] at (\SpineCenterX, \SpineTitleY - 0.35in)
    {\textenglish{\fontsize{\SpineSubtitleSize}{12pt}\selectfont \SubtitleEnglish}};
  
  % Greek subtitle broken into 3 lines
  \node[align=center, text=CoverText] at (\SpineCenterX, \SpineTitleY - 1.2in)
    {\fontsize{\SpineSubtitleSize}{14pt}\selectfont\baselineskip=14pt The Septuagint \\[2pt] and \\[2pt] The New Testament \\[2pt] in Greek};

  % Back cover is intentionally blank (minimalist design).

\end{tikzpicture}
\end{document}
